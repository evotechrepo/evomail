 /* ===== Base / layout ===== */
 *,*::before,*::after{box-sizing:border-box}
 :root{--gap:10px;--teal:#0b8a8f;--muted:#6b7280;--bord:#e5e7eb}
 body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
 .wrap{min-height:100svh;display:grid;grid-template-rows:auto 1fr auto;gap:var(--gap);
   max-width:980px;margin:0 auto;padding:calc(16px + 5vh) 16px 16px} /* +5% breathing room top */

 header{display:flex;align-items:center;gap:12px}
 header img{width:28px;height:28px;border-radius:6px}
 header h1{margin:0;font-size:18px;color:#0097A7}
 .muted{color:var(--muted);font-size:12px}

 /* ===== Search bar ===== */
 .search{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
 .search input[type="text"]{flex:1 1 260px;width:100%;height:40px;padding:8px 10px;border:1px solid #d1d5db;border-radius:10px;font-size:14px}
 .search .btn,.search select{height:40px}
 .btn{border:1px solid #d1d5db;background:#f3f4f6;color:#111827;border-radius:10px;padding:10px 12px;cursor:pointer}
 .btn--primary{background:#0097A7;color:#fff;border-color:#0097A7}

 /* Buttons / misc */
 .btnrow { display:flex; flex-direction:column; gap:8px; }
 .btn--primary--sm{ background:#0097A7; color:#fff; border-color:#0097A7;}
 .btn--primary--smm{ background:#0097A7; color:#fff; border-color:#0097A7;}
 .muted{ color:#6b7280; font-size:12px; }

 /* ===== List & pills (match scan.html) ===== */
 .list{display:grid;gap:8px;margin-top:10px}
 .pill{padding:12px;border:1px solid var(--bord);border-radius:14px;background:#fff;
   display:flex;justify-content:space-between;align-items:center;gap:10px;
   box-shadow:0 2px 8px rgba(0,0,0,.05);cursor:pointer;
   transition:background-color .15s,border-color .15s,box-shadow .2s,transform .12s;will-change:transform,box-shadow}
 @media(hover:hover){.pill:hover{background:#f3f4f6;border-color:#9ca3af;box-shadow:0 8px 22px rgba(0,0,0,.12);transform:translateY(-1px)}}
 .pill:active{transform:translateY(0);box-shadow:0 2px 8px rgba(0,0,0,.06)}
 .pill:focus-visible{outline:none;border-color:#0ea5b9;box-shadow:0 0 0 3px rgba(14,165,185,.22),0 8px 22px rgba(0,0,0,.12);background:#fff}
 .pill .left{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
 .pmb-badge{background:#E0F2F1;color:#065f46;font-weight:700;padding:4px 8px;border-radius:999px}
 .name{font-weight:600}
 .co{color:#6b7280;font-size:13px}
 .right-actions{display:flex;gap:6px}
 .icon-btn{border:0;background:#f3f4f6;border-radius:10px;padding:8px;cursor:pointer;transition:background .12s}
 .icon-btn:hover{background:#e5e7eb}
 .badge-usps{display:inline-block;padding:2px 6px;border-radius:999px;font:700 11px/1 system-ui}
 .badge-usps.on{background:#e0f2f1;color:var(--teal)}
 .badge-usps.off{background:#f3f4f6;color:#6b7280}

 /* ===== Drawer (wider on desktop) ===== */
 .comp-drawer{position:fixed;inset:0;background:rgba(0,0,0,.18);display:none;z-index:5000}
 .comp-drawer.open{display:block}
 .comp-panel{position:absolute;top:0;right:0;width:min(840px,94vw);height:100%; /* wider than before */
   background:#fff;border-radius:16px 0 0 16px;display:flex;flex-direction:column;box-shadow:-24px 0 60px rgba(0,0,0,.15)}
 .comp-head,.comp-foot{padding:12px;border-bottom:1px solid #eef2f7;background:#fff;display:flex;align-items:center;gap:8px}
 .comp-foot{border-top:1px solid #eef2f7;border-bottom:0;margin-top:auto}
 .title{font-weight:700;color:var(--teal);flex:1}
 .close-x{border:0;background:#f3f4f6;border-radius:10px;padding:6px 8px;cursor:pointer}
 .comp-body{padding:12px;overflow:auto}
 .select-sm{height:36px;border:1px solid #d1d5db;border-radius:10px;padding:0 8px;background:#fff}

 /* ===== Form bits inside drawer ===== */
 .vstack{display:flex;flex-direction:column}
 .row{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
 .lbl{font-weight:700;color:#374151;margin-bottom:6px;display:block}
 textarea#compNote{width:100%;border:1px solid #d1d5db;border-radius:10px;padding:10px;font:14px/1.3 system-ui;resize:vertical}

 /* notes */
 .notes{list-style:none;padding:0;margin:0;display:grid;gap:10px}
 .notes .note-row{display:flex;align-items:center;gap:8px}
 .notes .note-text{white-space:pre-wrap;border:1px solid #eef2f7;border-radius:10px;padding:8px;background:#fafafa}
 .notes .badge{background:#f3f4f6;color:#6b7280;border-radius:999px;padding:2px 6px;font-weight:700;font-size:11px}
 .notes .meta{color:#6b7280;font-size:12px}

 /* ===== Responsive ===== */
 @media(max-width:640px){
   .btn,.btn--primary,.search select{width:100%}
   .comp-panel{border-radius:16px 16px 0 0;left:0;right:0;width:100%}
 }

/* Phone-style toggle switch */
.toggle{display:inline-flex;align-items:center;gap:10px;cursor:pointer;user-select:none}
.toggle-input{position:absolute;opacity:0;width:1px;height:1px;pointer-events:none}
.toggle-track{position:relative;width:46px;height:28px;border-radius:999px;background:#e5e7eb;
 box-shadow:inset 0 0 0 1px rgba(0,0,0,.08);transition:background .2s,box-shadow .2s}
.toggle-track::after{content:"";position:absolute;top:3px;left:3px;width:22px;height:22px;border-radius:50%;
 background:#fff;box-shadow:0 1px 3px rgba(0,0,0,.25),0 0 0 1px rgba(0,0,0,.05);transition:transform .2s}
.toggle-input:checked + .toggle-track{background:var(--teal)}
.toggle-input:checked + .toggle-track::after{transform:translateX(18px)}
.toggle-input:focus-visible + .toggle-track{outline:2px solid #0ea5b9;outline-offset:2px}
.toggle-input:disabled + .toggle-track{opacity:.6;cursor:not-allowed}
.toggle-text{font-weight:600}

/* slightly larger on small touch screens */
@media (max-width:560px){
 .toggle-track{width:52px;height:32px}
 .toggle-track::after{width:26px;height:26px}
 .toggle-input:checked + .toggle-track::after{transform:translateX(20px)}
}

/* respect reduced motion */
@media (prefers-reduced-motion:reduce){
 .toggle-track,.toggle-track::after{transition:none}
}

/* Soft, full-width compiled textareas */
.ta-soft{
 width:100%;
 display:block;
 padding:10px 12px;
 border:1px solid #e6edf3;
 border-radius:12px;
 background:#fbfdff;
 color:#111827;
 font-size:14px;
 line-height:1.5;
 resize:vertical;
 white-space:pre-wrap;   /* keep line breaks */
 box-shadow:0 1px 1px rgba(0,0,0,0.02);
 transition:border-color .15s ease, box-shadow .15s ease, background .15s ease;
}
.ta-soft::placeholder{ color:#9aa4b2; }
.ta-soft[readonly]{ background:#f8fafc; }
.ta-soft.is-clickable{ cursor:pointer; }
.ta-soft.is-clickable:hover{ border-color:#cbd5e1; background:#ffffff; }
.ta-soft:focus{ outline:none; border-color:#0ea5b9; box-shadow:0 0 0 3px rgba(14,165,185,.15); background:#fff; }

/* spacing between stacked sections inside the drawer */
.comp-body .vstack > div + div { margin-top: 16px; }

/* smaller buttons + small icon button */
.btn--sm{ height:32px; padding:6px 10px; font-size:13px; border-radius:10px }
.icon-btn--sm{ padding:6px; width:32px; height:32px; display:inline-flex; align-items:center; justify-content:center }
 /* Buttons / misc */
.btnrow { display:flex; flex-direction:column; gap:8px; }
.btn{ border:1px solid #d1d5db; background:#f3f4f6; color:#111827; border-radius:10px; padding:10px 12px; cursor:pointer; }
.btn--primary{ background:#0097A7; color:#fff; border-color:#0097A7;}
.btn--primary--sm{ background:#0097A7; color:#fff; border-color:#0097A7;}
.btn--primary--smm{ background:#0097A7; color:#fff; border-color:#0097A7;}
.muted{ color:#6b7280; font-size:12px; }

 /* Small screens: everything flows with auto-fill */
 @media (max-width: 640px){
   .btn , .btn--primary { width:100%; } .btn--primary--sm{width:10%} .btn--primary--smm{width:15%}
   .tiles-grid{ gap:10px; }               /* slightly tighter on phones */
 }

/* label row utility (replace inline style) */
.lbl-row{ display:flex; align-items:center; gap:8px }

/* softer textarea look */
.ta-soft{ border:1px solid #d1d5db; border-radius:10px; padding:10px; width:100%; font:14px/1.3 system-ui; resize:vertical }
.ta-soft:focus{ outline:none; border-color:#0ea5b9; box-shadow:0 0 0 3px rgba(14,165,185,.15) }
/* Non-editable status chip, styled like a small input */
.status-chip{
 display:inline-flex; align-items:center;
 height:36px; min-width:140px; padding:0 10px;
 border:1px solid #d1d5db; border-radius:10px;
 background:#f9fafb; color:#374151; font-size:14px; line-height:1;
}

 /* stack Status over BCG */
.status-stack{display:flex;flex-direction:column;gap:6px;align-items:flex-end}

/* chips styled like small inputs (read-only) */
.chip{
 display:inline-flex;align-items:center;
 height:36px;min-width:140px;padding:0 10px;
 border:1px solid #d1d5db;border-radius:10px;
 background:#f9fafb;color:#374151;font-size:14px;line-height:1;
}
.chip--bcg{
 background:#f3f4f6;border-color:#d8dee6;color:#424b57;
}



 /* ===== Quick Links Curtain (center drawer) — compact CSS ===== */
 /* Handle (grab tab) */
 #quickLinksHandle.ql-handle{position:fixed;z-index:5000;top:10px;left:50%;transform:translateX(-50%);min-width:84px;height:36px;border:0;border-radius:999px;padding:0 12px;background:#0b8a8f;color:#fff;display:flex;gap:8px;align-items:center;justify-content:center;font:700 13px/1 system-ui;box-shadow:0 8px 28px rgba(0,0,0,.18);cursor:pointer}
 #quickLinksHandle .ql-ic{display:inline-block;transition:transform .25s cubic-bezier(.2,.8,.2,1)}
 #quickLinksHandle[aria-expanded="true"] .ql-ic{transform:rotate(180deg)}
 /* Curtain panel (closed by default; opens when handle aria-expanded=true) */
 #quickLinksCurtain.ql-curtain{position:fixed;z-index:4999;top:0;left:50%;transform:translate(-50%,-12px);opacity:0;pointer-events:none;width:clamp(320px,72vw,760px);max-height:min(70vh,560px);overflow:auto;border:1px solid #e5e7eb;border-radius:14px;background:#fff;box-shadow:0 28px 80px rgba(0,0,0,.22);transition:opacity .18s ease,transform .18s ease}
 #quickLinksHandle[aria-expanded="true"]+#quickLinksCurtain{transform:translate(-50%,0);opacity:1;pointer-events:auto}
 /* Backdrop (optional, click to close) */
 .ql-backdrop{position:fixed;inset:0;z-index:4998;background:#000;opacity:0;pointer-events:none;transition:opacity .18s}
 #quickLinksHandle[aria-expanded="true"]~.ql-backdrop{opacity:.25;pointer-events:auto}
 /* Panel header + grid */
 .ql-curtain .ql-head{position:sticky;top:0;display:flex;align-items:center;gap:8px;padding:10px 12px;border-bottom:1px solid #eef2f7;background:#fff}
 .ql-curtain .ql-close{margin-left:auto;border:0;background:#f3f4f6;border-radius:8px;padding:6px 8px;cursor:pointer}
 .ql-curtain .ql-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:12px;padding:12px}
 .ql-curtain .ql-item{display:flex;flex-direction:column;align-items:center;gap:8px;text-decoration:none;border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 6px rgba(0,0,0,.04);transition:transform .15s,box-shadow .15s}
 .ql-curtain .ql-item:hover{transform:translateY(-1px);box-shadow:0 10px 26px rgba(0,0,0,.08)}
 .ql-curtain .ql-item img{width:72px;height:72px;object-fit:contain}
 .ql-curtain .ql-item .label{font:600 13px/1.2 system-ui;color:#374151;text-align:center}
 .ql-curtain .logo-fallback{width:72px;height:72px;display:grid;place-items:center;border-radius:12px;background:#e0f2f1;color:#0b8a8f;font:800 16px/1 system-ui}
 /* Mobile: full-width strip, larger tap target for handle */
 @media (max-width:560px){
   #quickLinksHandle.ql-handle{min-width:60px;height:26px;font-size:12px;padding:0 10px;border-radius:10px}
   #quickLinksCurtain.ql-curtain{left:8px;right:8px;width:auto;transform:translate(0,-12px)}
   #quickLinksHandle[aria-expanded="true"]+#quickLinksCurtain{transform:translate(0,0)}
   .ql-curtain .ql-grid{grid-template-columns:repeat(3,1fr)}
 }
 /* Accessibility + reduced motion */
 .sr-only{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
 @media (prefers-reduced-motion:reduce){
   #quickLinksHandle .ql-ic{transition:none}
   #quickLinksCurtain.ql-curtain,.ql-backdrop{transition:none}
 }
 /* Mobile tweak — also smaller than before */
 @media (max-width:560px){
   #quickLinksHandle.ql-handle{min-width:60px;height:32px;font-size:12px}
 }

 .pill { cursor: pointer; }
 .pill .right-actions { cursor: default; }

 /* ===== Back-to-top drawer (center-bottom) ===== */
 .bt-handle{position:fixed;left:50%;bottom:calc(12px + env(safe-area-inset-bottom,0px));
   transform:translateX(-50%);z-index:5000;min-width:56px;height:40px;padding:0 14px;border:0;
   border-radius:999px;background:#0b8a8f;color:#fff;display:flex;align-items:center;justify-content:center;
   box-shadow:0 8px 24px rgba(0,0,0,.2);cursor:pointer;opacity:0;pointer-events:none;
   transition:opacity .18s ease,transform .18s ease}
 .bt-handle.is-show{opacity:1;pointer-events:auto;transform:translate(-50%,-2px)}
 .bt-ic{font:700 16px/1 system-ui;transition:transform .25s cubic-bezier(.2,.8,.2,1)}
 .bt-handle:hover .bt-ic,.bt-handle:focus-visible .bt-ic{transform:translateY(-2px)}
 /* gentle idle bob */
 .bt-handle.is-show:not(:hover):not(:focus-visible) .bt-ic{animation:btBob 6s infinite 1.2s}
 @keyframes btBob{0%,78%,100%{transform:translateY(0)}82%{transform:translateY(-3px)}86%{transform:translateY(0)}90%{transform:translateY(-2px)}94%{transform:translateY(0)}}
 /* mobile sizing */
 @media (max-width:560px){.bt-handle{min-width:60px;height:30px}}
 /* respect reduced motion */
 @media (prefers-reduced-motion:reduce){.bt-handle,.bt-ic{transition:none;animation:none}}


/* Totals (side-by-side, compact) */
.comp-totals{display:flex;gap:10px;margin:8px 0 12px;flex-wrap:wrap}
.comp-total-line{
  flex:0 0 auto;min-width:49%; /* ~under half row each on desktop */
  font:600 12px/1.35 system-ui,sans-serif;color:#0ea5a6;
  background:#f8f2f2;padding:3px 8px;border-radius:8px;
  box-shadow:0 2px 6px rgba(0,0,0,.1);white-space:nowrap;
  text-align:left;cursor:default;transition:transform .12s ease
}
.comp-total-line:hover{transform:scale(1.015)}
.tick{color:#16a34a;font-weight:600}
.cross{color:#dc2626;font-weight:600}

/* Tablet: slightly wider pills & a touch larger text */
@media (max-width: 900px){
  .comp-total-line{min-width:48%;font-size:12.5px;padding:4px 9px}
}

/* Mobile: stack if needed, full width for readability */
@media (max-width: 640px){
  .comp-totals{gap:8px}
  .comp-total-line{min-width:100%;font-size:12px;padding:4px 10px;border-radius:10px}
}

/* Very small phones */
@media (max-width: 360px){
  .comp-total-line{font-size:11.5px;padding:4px 8px}
}


